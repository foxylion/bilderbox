(this.webpackJsonpbilderbox=this.webpackJsonpbilderbox||[]).push([[0],{82:function(t,e,c){"use strict";c.r(e);var a=c(0),s=c(30),i=c(106),n=c(107),o=c(63),r=c(64);const h=Object(r.a)({palette:{primary:{main:"#fbc02d"},secondary:{main:"#ffab00"}}});var l=c(103),d=c(110),j=c(104),b=c(108),p=c(105),u=c(109),g=c(3);const x=Object(l.a)((()=>({grow:{flexGrow:1}}))),O=()=>{const t=x();return Object(g.jsx)(d.a,{position:"fixed",children:Object(g.jsxs)(j.a,{children:[Object(g.jsx)(b.a,{children:Object(g.jsx)(u.a,{})}),Object(g.jsx)(p.a,{variant:"h6",noWrap:!0,children:"BilderboX"}),Object(g.jsx)("div",{className:t.grow})]})})};var w=c(5);const f=()=>Object(g.jsx)(g.Fragment,{children:[...Array(100)].map((t=>Object(g.jsx)(p.a,{children:"Hello World!"},t)))});var m=c(44),y=c(62);const A="localhost"===window.location.hostname?"https://localhost:3000/":"https://jakobnohe.de/bilderbox/";class k{constructor(){this.msalConfig={auth:{clientId:"df346ab3-6ba2-4c7a-a4b6-96986093b576",redirectUri:A},cache:{cacheLocation:"localStorage"}},this.scopes=["User.Read","Files.ReadWrite.All","offline_access"],this.application=new y.a(this.msalConfig),this.authenticate=async()=>{if(!await this.isAuthenticated())if(window.location.hash.startsWith("#code=")){if(!await this.application.handleRedirectPromise())throw new Error("Failed to authenticate, result ist NULL")}else this.application.loginRedirect({scopes:this.scopes})},this.isAuthenticated=async()=>{try{return await this.application.acquireTokenSilent({account:this.application.getAllAccounts()[0],scopes:this.scopes}),!0}catch(t){return!1}},this.getAccessToken=async()=>{try{return(await this.application.acquireTokenSilent({account:this.application.getAllAccounts()[0],scopes:this.scopes})).accessToken}catch(t){throw new Error("Failed to get access token, try sign-in again.")}},this.logout=async()=>{await this.application.logout()}}}const v=()=>{const[t,e]=a.useState();return a.useEffect((()=>{(async()=>{const t=new k,c=m.a.initWithMiddleware({authProvider:{getAccessToken:t.getAccessToken}}),a=await c.api("/me").get();e(a)})()}),[]),Object(g.jsx)("pre",{children:JSON.stringify(t,void 0,2)})},T=()=>{const{path:t}=Object(w.f)(),[e,c]=a.useState();return a.useEffect((()=>{(async()=>{const e=new k,a=m.a.initWithMiddleware({authProvider:{getAccessToken:e.getAccessToken}}),s=await a.api(t).get();c(s)})()}),[t]),Object(g.jsx)("pre",{children:JSON.stringify(e,void 0,2)})},F=Object(l.a)((t=>({content:{marginTop:"60px",padding:t.spacing(2)}}))),S=()=>{const t=F();return Object(g.jsx)("div",{className:t.content,children:Object(g.jsxs)(w.c,{children:[Object(g.jsx)(w.a,{path:"/authenticate",children:Object(g.jsx)(v,{})}),Object(g.jsx)(w.a,{path:"/test/:path+",children:Object(g.jsx)(T,{})}),Object(g.jsx)(w.a,{path:"/",children:Object(g.jsx)(f,{})})]})})},W=()=>Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(i.a,{}),Object(g.jsx)(n.a,{theme:h,children:Object(g.jsxs)(o.a,{basename:A,children:[Object(g.jsx)(O,{}),Object(g.jsx)(S,{})]})})]});(async()=>{const t=new k;var e;await t.authenticate(),s.render(Object(g.jsx)(a.StrictMode,{children:Object(g.jsx)(W,{})}),document.getElementById("root")),e&&e instanceof Function&&c.e(3).then(c.bind(null,111)).then((({getCLS:t,getFID:c,getFCP:a,getLCP:s,getTTFB:i})=>{t(e),c(e),a(e),s(e),i(e)}))})()}},[[82,1,2]]]);
//# sourceMappingURL=main.565fae7c.chunk.js.map